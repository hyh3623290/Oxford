# JavaScript

1âƒ£ï¸

```js
alert(a)
a()
var a = 3
function a() {
  alert(10)
}
alert(a)
a = 6
a()
```

- å˜é‡æå‡
- å‡½æ•°æå‡
- å‡½æ•°æå‡ä¼˜å…ˆäºå˜é‡æå‡ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°åœ¨æœ€ä¸Šå¤´âš ï¸å»ç™¾åº¦ä¸€ä¸‹ 
- å¦‚æœå˜é‡åå’Œå‡½æ•°åé‡åï¼Œå˜é‡åˆæ²¡æœ‰è¢«èµ‹å€¼ï¼Œåˆ™å‡½æ•°ç”Ÿæ•ˆ

```js
function
10
3
æŠ¥é”™: a is not function
```





2âƒ£ï¸

```js
var a = function yideng(num) {
  yideng = num
  console.log(typeof yideng)
  return 1
}
a(1)
console.log(typeof yideng())
```

- yidengæ˜¯åªè¯»çš„ï¼Œä¸”åªåœ¨å†…éƒ¨ä½¿ç”¨ã€‚åœ¨nodeä¸­è¿™æ ·ä½¿ç”¨å…¶å®ä¸€èˆ¬å°±æ˜¯ä¸ºäº†è°ƒé”™çš„

```js
function
yideng is not defined  
```



3âƒ£ï¸

```js
this.a = 20
var test = {
  a: 40,
  init: function() {
    console.log(this.a)
  }
}
test.init() // 40
var fn = test.init()
fn() // 20
```

- thisè°è°ƒç”¨æŒ‡è°ï¼Œinitæ˜¯è°æ‰§è¡Œçš„ï¼Ÿ-> test	fnæ˜¯è°æ‰§è¡Œçš„ -> window



4âƒ£ï¸

```js
this.a = 20
var test = {
  a: 40,
  init: function() {
    function go() {
      console.log(this.a)
    }
    go()
  }
}
test.init() // 20
```

- `test.init()` æ˜¯ `go()` `go`æ²¡äººè°ƒç”¨, æ‰€ä»¥æ˜¯`window`





5âƒ£ï¸

```js
this.a = 20
var test = {
  a: 40,
  init: function() {
    function go() {
      console.log(this.a)
    }
    return go
  }
}
var s = test.init()
s() // 20
```

- ä¸ä¸ŠåŒç†





6âƒ£ï¸

```js
function test(a) {
  this.a = a
}
test.prototype.a = 20
test.prototype.init = function() {
  console.log(this.a)
}
var s = new test(30)
s.init() // 30
```

- æ„é€ å‡½æ•°çš„å€¼ä¼˜å…ˆäºåŸå‹é“¾





7âƒ£ï¸

```js
this.a = 20
var test = {
  a: 40,
  init: function() {
    console.log(this.a)
  }
} // ç¼ºäº†ä¸€ä¸ªåˆ†å·ï¼ŒæŠ¥é”™
(function(){
  var fn = test.init()
  n()
})()
```





8âƒ£ï¸

```js
this.a = 20
var test = {
  a: 40,
  init: () => {
    console.log(this.a)
  }
}
test.init() // 20
var fn = test.init()
fn() // 20
```

- ç®­å¤´å‡½æ•°ç»‘å®šçˆ¶çº§ä½œç”¨åŸŸï¼Œè·Ÿå†™bindçš„æ„æ€ä¸€æ¨¡ä¸€æ ·





9âƒ£ï¸

```js
this.test = 11
var s = {
  a: function() {
    console.log(1)
    console.log(this)
    console.log(this.test)
  },
  b() {
    console.log(this.test)
  }
}

var f = s.a.bind(this)
new f() // 1 a{} undefined æ²¡æœ‰newçš„è¯ç¬¬äºŒä¸ªè¾“å‡ºwindow
var f2 = s.b.bind(this)
new f2() // æŠ¥é”™
```

- es6ç®€å†™æ–¹å¼ä¸æ”¯æŒnewï¼ŒåŒ…æ‹¬ç®­å¤´å‡½æ•°
- newäº†ä»¥åthisæŒ‡å‘é‚£ä¸ªå®ä¾‹ï¼Œæ‰€ä»¥è¾“å‡º`a{}`

```js
function f() {console.log(this)}

new f() // f{}
```







ğŸ”Ÿ



```js
this.a = 20
var test = {
  a: 40,
  init: () => { // function()
    console.log(this.a)
    function go() {
      this.a = 60
      console.log(this.a)
    }
    go.prototype.a = 50
    return go
  }
}
console.log(1+'*********************')
test.init()
console.log(2+'*********************')
var p = test.init()
console.log(3+'*********************')
p()
console.log(4+'*********************')
new (test.init())()
```

20 20 60 60 60

```js
 1*********************
// 20
 2*********************
// 20
 3*********************
// 60
 4*********************
// 60
// 60
```

âš ï¸ debuggerçœ‹çœ‹æ˜å¤©



1âƒ£ï¸1âƒ£ï¸

```js
new è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§åˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„
```



1âƒ£ï¸2âƒ£ï¸

```js
function test(m) {
  m = {
    v: 5
  }
}
var m = {
  k: 30
}
test(m)
alert(m.v) // undefined

function test(m) {
  m.v = 20
}
var m = {
  k: 30
}
test(m)
alert(m.v) // 20

//ä¸Šé¢ä¸ºäº†è¿·æƒ‘
function test(a) {
  a.v = 20
}
var m = {
  k: 30
}
test(m)
alert(m.v) // 20
```

- å‡½æ•°çš„å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’ï¼Œå’Œå¤–é¢ä»€ä¹ˆå…³ç³»éƒ½æ²¡æœ‰
- ä½†åé¢ä¾‹å­ï¼Œaå’Œmçš„æŒ‡å‘æ˜¯åŒä¸€ä¸ªåœ°å€





1âƒ£ï¸3âƒ£ï¸

```js
function yideng() {
  console.log(1)
}
(function(){
  // var yideng -> ç°ä»£æµè§ˆå™¨
  if(false) {
    function yideng() {
      console.log(2)
    }
  }
  yideng()
})()
```

- æµè§ˆé¢˜é—®é¢˜ï¼Œä¸‰ç§ç»“æœ

  1. è€å¼æµè§ˆå™¨ - å‡½æ•°æå‡è¾“å‡º2
  2. ç°ä»£æµè§ˆå™¨ä¼šå°†ä¸€ç¯æä¸Šæ¥ç„¶åæŠ¥é”™
  3. ä¸­é—´æŸäº›ç«ç‹æµè§ˆå™¨è¾“å‡º1

  æ­¤å¤–ç±»ä¼¼`[,,].length`ä¹Ÿæœ‰2æœ‰3





1âƒ£ï¸4âƒ£ï¸

è¯·ç”¨ä¸€å¥è¯ç®—å‡º0-100ä¹‹é—´å­¦ç”Ÿçš„å­¦ç”Ÿç­‰çº§ï¼Œå¦‚90-100ä¸º1ç­‰ç”Ÿï¼Œ80-90ä¸º2ç­‰ç”Ÿä»¥æ­¤ç±»æ¨ã€‚ä¸å…è®¸ä½¿ç”¨`if switch`

æ€ç»´ï¼š100 10 98 1	æœ‰ä»€ä¹ˆå…³ç³»

```js
10 - 98/10 = 1
```



1âƒ£ï¸5âƒ£ï¸

è¯·ç”¨ä¸€å¥è¯éå†å˜é‡`a = "abc"`

```js
var a = "abc"

Array.from(a)
[...new Set(a)]
Array.prototype.slice.call(a) // å¾ˆå¤šç±»åº“éƒ½è¿™ä¹ˆå¹²ï¼Œä½¿ç”¨callæ›´çµæ´»
```



ğŸ”Ÿ6âƒ£ï¸

è¯·å†™å‡ºJSçš„ç»§æ‰¿ 1.45 ä¸æƒ³çœ‹äº†

```js
function Car(color) {
  this.color = color
}
Car.prototype.show = function() { console.log(this.color) }

function Benz(color) {
  Car.call(this, color)
}
Benz.prototype = Object.create(Car.prototype)
Benz.prototype.test = function() {}

const benz = new Benz("red")
console.log(benz)
```



ğŸ”Ÿ7âƒ£ï¸

```js
var length = 10
function fn(){
  console.log(this.length)
}
var yideng = {
  length: 5,
  method: function(fn) {
    fn()
    arguments[0]()
  }
};
yideng.method(fn, 1)
```

- æ²¡æœ‰äººè°ƒfnï¼ŒthisæŒ‡å‘window
- window.length = é¡µé¢ä¸­iframeçš„ä¸ªæ•°



ğŸ”Ÿ8âƒ£ï¸

```js
function yideng() {}
yideng.prototype.a = 11
yideng.a // undefined
```

- ä½ å¾—newå®ƒçš„æ—¶å€™æ‰ä¼šå»åŸå‹é“¾ä¸Šæ‰¾



ğŸ”Ÿ9âƒ£ï¸

åŸå‹é“¾å›¾ + åŸå‹é“¾ ç¬¬äºŒèŠ‚













âš ï¸ é¢å¤–ï¼šæ‰‹å†™bindï¼Œæ·±æ‹·è´ï¼Œé˜²æŠ–èŠ‚æµ



âš ï¸ çœ‹åˆ°é¢˜ç›®å…ˆçœ‹æå‡ï¼Œå…¶æ¬¡çœ‹ç‚¹

âš ï¸ å‡½æ•°ä½œç”¨åŸŸå¯ä»¥åšç§æœ‰å˜é‡

































